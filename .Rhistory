nonwest[mydata$region=="W"] <- 0
nonwest
output <- lm(sales ~ ezine * nonwest, data=mydata)
summary(output)
output <- lm(sales ~ ezine * nonwest, data=mydata)
summary(output)
output <- lm(sales ~ ezine * west, data=mydata)
summary(output)
west <- 0
west[mydata$region=="W"] <- 1
west[mydata$region!="W"] <- 0
west
output <- lm(sales ~ ezine * west, data=mydata)
summary(output)
output <- lm(sales ~ ezine * nonwest, data=mydata)
summary(output)
View(mydata)
north <- 0
north[mydata$region=="N"] <- 1
north[mydata$region!="N"] <- 0
north
output1 <- lm(sales ~ instagram * north, data=mydata)
summary(output1)
nonnorth <- 0
nonnorth[mydata$region!="N"] <- 1
nonnorth[mydata$region=="N"] <- 0
nonnorth
output1 <- lm(sales ~ instagram * nonnorth, data=mydata)
summary(output1)
facebook_9999999 <- mydata$facebook + 9999999
output2 <- lm(sales ~ facebook, data=mydata)
summary(output2)
output2 <- lm(sales ~ facebook_9999999, data=mydata)
summary(output2)
redbull$cBanner <- redbull$banner - mean(redbull$banner)
mydata$cBanner <- mydata$banner - mean(mydata$banner)
mydata$cFacebook <- mydata$facebook - mean(mydata$facebook)
output3 <- lm(sales ~ cFacebook * cBanner, mydata)
summary(output3)
mydata$cBannerHigh <- mydata$cBanner - stdev(mydata$banner)
mydata$cBannerHigh <- mydata$cBanner - sd(mydata$banner)
mydata$cBannerHigh <- mydata$cBanner - sd(mydata$banner)
output4 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output4)
#low
mydata$cBannerLow <- mydata$cBanner + sd(mydata$banner)
output5 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output5)
#high
mydata$cBannerHigh <- mydata$cBanner - sd(mydata$banner)
output4 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output4)
#low
mydata$cBannerLow <- mydata$cBanner + sd(mydata$banner)
output5 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output5)
#high
mydata$cBannerHigh <- mydata$cBanner - sd(mydata$banner)
output4 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output4)
#low
mydata$cBannerLow <- mydata$cBanner + sd(mydata$banner)
output5 <- lm(sales ~ cFacebook * cBannerLow, mydata)
summary(output5)
#high
mydata$cFacebookHigh <- mydata$cFacebook - sd(mydata$facebook)
output6 <- lm(sales ~ cBanner * cFacebookHigh, mydata)
summary(output6)
#low
mydata$cFacebookLow <- mydata$cFacebook + sd(mydata$facebook)
output7 <- lm(sales ~ cBanner * cFacebookLow, mydata)
summary(output7)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cFacebookHigh <- mydata$cFacebook - sd(mydata$facebook)
output6 <- lm(sales ~ cInstagram * cFacebookHigh, mydata)
summary(output6)
#low
mydata$cFacebookLow <- mydata$cFacebook + sd(mydata$facebook)
output7 <- lm(sales ~ cInstagram * cFacebookLow, mydata)
summary(output7)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
summary(output6)
#low
mydata$cInstagramLow <- mydata$cInstagram + sd(mydata$instagram)
output7 <- lm(sales ~ cFacebook * cInstagramLow, mydata)
summary(output7)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
summary(output6)
#low
mydata$cInstagramLow <- mydata$cInstagram + sd(mydata$instagram)
output7 <- lm(sales ~ cFacebook * cInstagramLow, mydata)
summary(output7)
options(scipen=999)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
summary(output6)
#low
mydata$cInstagramLow <- mydata$cInstagram + sd(mydata$instagram)
output7 <- lm(sales ~ cFacebook * cInstagramLow, mydata)
summary(output7)
options(scipen=999)
install.packages("readxl")
library(readxl)
mydata <- read_excel("/Users/danielkwong/Downloads/redbull.xlsx")
mydata <- na.omit(mydata)
model <- lm(sales ~ . + region, data=mydata)
summary(model)
#Dichotomous variable (west is the moderator variable)
west <- 0
west[mydata$region=="W"] <- 1
west[mydata$region!="W"] <- 0
west
#All 3 versions give the same output, but we will focus on the FIRST one
output <- lm(sales ~ ezine * west, data=mydata)
summary(output)
#output <- lm(sales ~ ezine + west + ezine * west, data=mydata)
#summary(output)
#output <- lm(sales ~ ezine * I(region == "W"), data=mydata)
#summary(output)
nonwest <- 0
nonwest[mydata$region!="W"] <- 1
nonwest[mydata$region=="W"] <- 0
nonwest
output <- lm(sales ~ ezine * nonwest, data=mydata)
summary(output)
north <- 0
north[mydata$region=="N"] <- 1
north[mydata$region!="N"] <- 0
north
output1 <- lm(sales ~ instagram * north, data=mydata)
summary(output1)
nonnorth <- 0
nonnorth[mydata$region!="N"] <- 1
nonnorth[mydata$region=="N"] <- 0
nonnorth
output1 <- lm(sales ~ instagram * nonnorth, data=mydata)
summary(output1)
facebook_9999999 <- mydata$facebook + 9999999
output2 <- lm(sales ~ facebook, data=mydata)
summary(output2)
output2 <- lm(sales ~ facebook_9999999, data=mydata)
summary(output2)
#Continuous variable (banner is the moderator variable)
#center
mydata$cBanner <- mydata$banner - mean(mydata$banner)
mydata$cFacebook <- mydata$facebook - mean(mydata$facebook)
output3 <- lm(sales ~ cFacebook * cBanner, mydata)
summary(output3)
#high
mydata$cBannerHigh <- mydata$cBanner - sd(mydata$banner)
output4 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output4)
#low
mydata$cBannerLow <- mydata$cBanner + sd(mydata$banner)
output5 <- lm(sales ~ cFacebook * cBannerLow, mydata)
summary(output5)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
summary(output6)
#low
mydata$cInstagramLow <- mydata$cInstagram + sd(mydata$instagram)
output7 <- lm(sales ~ cFacebook * cInstagramLow, mydata)
summary(output7)
options(scipen = 999)
output <- lm(sales ~ facebook , redbull)
install.packages("readxl")
library(readxl)
mydata <- read_excel("/Users/danielkwong/Downloads/redbull.xlsx")
mydata <- na.omit(mydata)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
options(scipen=999)
install.packages("readxl")
library(readxl)
mydata <- read_excel("/Users/danielkwong/Downloads/redbull.xlsx")
mydata <- na.omit(mydata)
model <- lm(sales ~ . + region, data=mydata)
summary(model)
#Dichotomous variable (west is the moderator variable)
west <- 0
west[mydata$region=="W"] <- 1
west[mydata$region!="W"] <- 0
west
#All 3 versions give the same output, but we will focus on the FIRST one
output <- lm(sales ~ ezine * west, data=mydata)
summary(output)
#output <- lm(sales ~ ezine + west + ezine * west, data=mydata)
#summary(output)
#output <- lm(sales ~ ezine * I(region == "W"), data=mydata)
#summary(output)
nonwest <- 0
nonwest[mydata$region!="W"] <- 1
nonwest[mydata$region=="W"] <- 0
nonwest
output <- lm(sales ~ ezine * nonwest, data=mydata)
summary(output)
north <- 0
north[mydata$region=="N"] <- 1
north[mydata$region!="N"] <- 0
north
output1 <- lm(sales ~ instagram * north, data=mydata)
summary(output1)
nonnorth <- 0
nonnorth[mydata$region!="N"] <- 1
nonnorth[mydata$region=="N"] <- 0
nonnorth
output1 <- lm(sales ~ instagram * nonnorth, data=mydata)
summary(output1)
facebook_9999999 <- mydata$facebook + 9999999
output2 <- lm(sales ~ facebook, data=mydata)
summary(output2)
output2 <- lm(sales ~ facebook_9999999, data=mydata)
summary(output2)
#Continuous variable (banner is the moderator variable)
#center
mydata$cBanner <- mydata$banner - mean(mydata$banner)
mydata$cFacebook <- mydata$facebook - mean(mydata$facebook)
output3 <- lm(sales ~ cFacebook * cBanner, mydata)
summary(output3)
#high
mydata$cBannerHigh <- mydata$cBanner - sd(mydata$banner)
output4 <- lm(sales ~ cFacebook * cBannerHigh, mydata)
summary(output4)
#low
mydata$cBannerLow <- mydata$cBanner + sd(mydata$banner)
output5 <- lm(sales ~ cFacebook * cBannerLow, mydata)
summary(output5)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
summary(output6)
#low
mydata$cInstagramLow <- mydata$cInstagram + sd(mydata$instagram)
output7 <- lm(sales ~ cFacebook * cInstagramLow, mydata)
summary(output7)
west <- 0
west[mydata$region=="W"] <- 1
west[mydata$region!="W"] <- 0
west
nonwest <- 0
nonwest[mydata$region!="W"] <- 1
nonwest[mydata$region=="W"] <- 0
nonwest
output <- lm(sales ~ ezine * nonwest, data=mydata)
summary(output)
north <- 0
north[mydata$region=="N"] <- 1
north[mydata$region!="N"] <- 0
north
nonnorth <- 0
nonnorth[mydata$region!="N"] <- 1
nonnorth[mydata$region=="N"] <- 0
nonnorth
output1 <- lm(sales ~ instagram * nonnorth, data=mydata)
summary(output1)
output <- lm(sales ~ ezine * west, data=mydata)
summary(output)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
#high
mydata$cInstagramHigh <- mydata$cInstagram - sd(mydata$instagram)
output6 <- lm(sales ~ cFacebook * cInstagramHigh, mydata)
summary(output6)
#low
mydata$cInstagramLow <- mydata$cInstagram + sd(mydata$instagram)
output7 <- lm(sales ~ cFacebook * cInstagramLow, mydata)
summary(output7)
mydata$cYouTube <- mydata$youtube - mean(mydata$youtube)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
output8 <- lm(sales ~ cYouTube * cInstagram, mydata)
summary(output8)
mydata$cTV <- mydata$tv - mean(mydata$tv)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
output8 <- lm(sales ~ cTV * cInstagram, mydata)
summary(output9)
mydata$cTV <- mydata$tv - mean(mydata$tv)
mydata$cInstagram <- mydata$instagram - mean(mydata$instagram)
output9 <- lm(sales ~ cTV * cInstagram, mydata)
summary(output9)
mydata$cTV <- mydata$tv - mean(mydata$tv)
mydata$cBanner <- mydata$banner - mean(mydata$banner)
output10 <- lm(sales ~ cTV * cBanner, mydata)
summary(output10)
redbull$banner5000 <- redbull$banner - 5000
mydata$banner5000 <- mydata$banner - 5000
out <- lm(sales ~ cInstagram*banner5000, mydata)
summary(out)
mydata$banner50 <- mydata$banner - 50
out <- lm(sales ~ cInstagram*banner50, mydata)
summary(out)
out <- lm(sales ~ cFacebook*banner5000, mydata)
summary(out)
out <- lm(sales ~ cInstagram*banner, redbull)
mydata$instagram3500 <- mydata$instagram - 3500
out <- lm(sales ~ cFacebook*instagram3500, mydata)
summary(out)
install.packages("interactions", dependencies = TRUE)
library(interactions)
s <-redbull
install.packages("interactions", dependencies = TRUE)
library(interactions)
install.packages("readxl")
library(readxl)
redbull <- read_excel("/Users/danielkwong/Downloads/redbull.xlsx")
redbull <- na.omit(mydata)
s <-redbull
#> JOHNSON-NEYMAN INTERVAL - note - be sure the plot screen is visible. Ignore warning.
m <- lm(sales ~ facebook * banner, data = s)
johnson_neyman(m, pred = facebook, modx = banner, alpha = 0.05,  title = "Johnson-Neyman Plot")
m <- lm(sales ~ facebook * twitter, data = s)
johnson_neyman(m, pred = facebook, modx = twitter, alpha = 0.05,  title = "Johnson-Neyman Plot")
m <- lm(sales ~ instagram * tv, data = s)
johnson_neyman(m, pred = instagram, modx = tv, alpha = 0.05, mod.range = c(500, 4000), title = "Johnson-Neyman Plot")
m <- lm(sales ~ facebook * instagram, data = s)
johnson_neyman(m, pred = facebook, modx = instagram, alpha = 0.05, mod.range = c(500, 4000), title = "Johnson-Neyman Plot")
m <- lm(sales ~ facebook * banner, data = s)
johnson_neyman(m, pred = facebook, modx = banner, alpha = 0.05,  title = "Johnson-Neyman Plot")
install.packages("interactions", dependencies = TRUE)
library(interactions)
m <- lm(sales ~ facebook * banner, data = s)
johnson_neyman(m, pred = facebook, modx = banner, alpha = 0.05,  title = "Johnson-Neyman Plot")
m <- lm(sales ~ facebook * twitter, data = s)
johnson_neyman(m, pred = facebook, modx = twitter, alpha = 0.05,  title = "Johnson-Neyman Plot")
m <- lm(sales ~ instagram * tv, data = s)
johnson_neyman(m, pred = instagram, modx = tv, alpha = 0.05, mod.range = c(500, 4000), title = "Johnson-Neyman Plot")
m <- lm(sales ~ facebook * instagram, data = s)
johnson_neyman(m, pred = facebook, modx = instagram, alpha = 0.05, mod.range = c(500, 4000), title = "Johnson-Neyman Plot")
anova(ModelR, Model2) # automatic R version to calculate p-value and f-statistic in a restricted F-test
options(scipen=999)
library(readxl)
setwd("/Users/danielkwong/Documents/GSE519")
# Import Discrimination (comparing the predictions of two different models, and plotting)
myData <- read_excel("Data for Weeks 1-6.xlsx", sheet = "Discrimination")
Model1 <- lm(log(Wage) ~ Educ+Exper+I(Exper^2)+Tenure+Female, data = myData) # Exponential + Quadratic model
summary(Model1)
mEduc = mean(myData$Educ)
mExper = mean(myData$Exper)
mTenure = mean(myData$Tenure)
Malelg <- predict(Model1, data.frame(Educ=mEduc, Exper=mExper, Tenure=mTenure, Female=0))
Femalelg <- predict(Model1, data.frame(Educ=mEduc, Exper=mExper, Tenure=mTenure, Female=1))
se1 = sigma(Model1)
Male = exp(Malelg + se1^2/2) # predictions of y back into normal scale (exponential)
Female = exp(Femalelg + se1^2/2); # predictions of y back into normal scale (exponential)
c(Male,Female)
Model2 <- lm(log(Wage) ~ Educ+Exper+I(Exper^2)+Tenure+Female+Female*Educ, data = myData) # Exponential + Quadratic + Interaction model
summary(Model2)
Malelg <- predict(Model2, data.frame(Educ=mEduc, Exper=mExper, Tenure=mTenure, Female=0))
Femalelg <- predict(Model2, data.frame(Educ=mEduc, Exper=mExper, Tenure=mTenure, Female=1))
se2 = sigma(Model2)
Male = exp(Malelg + se2^2/2) # predictions of y back into normal scale (exponential)
Female = exp(Femalelg + se2^2/2); # predictions of y back into normal scale (exponential)
c(Male,Female)
Ed <- 4:20 # change mEduc to Ed in order to plot Model 2
Malelg <- predict(Model2, data.frame(Educ=Ed, Exper=mExper, Tenure=mTenure, Female=0))
Femalelg <- predict(Model2, data.frame(Educ=Ed, Exper=mExper, Tenure=mTenure, Female=1))
se2 = sigma(Model2)
Male = exp(Malelg + se2^2/2) # predictions of y back into normal scale (exponential)
Female = exp(Femalelg + se2^2/2); # predictions of y back into normal scale (exponential)
plot(Ed,Male,type="l",lwd=1, ylim=c(2,14), col="red", xlab="Education", ylab="Wage")
lines(Ed,Female,type="l",lwd=1, col="blue")
legend(5,10,c("Male","Female"), lwd=c(1,1), col=c("red","blue"))
#Restricted F test
ModelR <- lm(log(Wage) ~ Educ+Exper+I(Exper^2)+Tenure, data = myData)
summary(ModelR)
anova(ModelR)
anova(Model2)
df.residual(Model2) # this gives N-K
Ftest <- ((95.011-83.929)/2)/(83.929/519); Ftest # ((residual ModelR aka SSEr - residual Model2 aka SSEu)/q)/
#(residual Model2 aka SSEu/N-K)
pf(Ftest,2,519,lower.tail=FALSE)
anova(ModelR, Model2) # automatic R version to calculate p-value and f-statistic in a restricted F-test
sqrt(mean((VData$Salary-Pred1)^2)) # RMSE: 11.3070; Model 1 performs better on the validation data than Model 2
train <- read.csv("train.csv")
train <- read.csv("train.csv")
test <- read.csv("test.csv")
str(train)
model_lm <- lm(SalePrice ~ ., data = train)
model_lm <- lm(SalePrice ~ ., data = train)
#Find factor columns with only one unique level
bad_factors <- sapply(train, function(x) is.factor(x) && length(unique(x)) == 1)
bad_factors <- names(train)[bad_factors]
#Drop them
train_clean <- train[, !(names(train) %in% bad_factors)]
#Fit model again
model_lm <- lm(SalePrice ~ ., data = train_clean)
print(bad_factors)
#Run regression
model_lm <- lm(SalePrice ~ MSSubClass, MSZoning, LotFrontage, LotArea, LotShape, LandContour, LotConfig, LandSlope, Neighborhood,
Condition1, BldgType, HouseStyle, OverallQual, OverallCond, YearBuilt, YearRemodAdd, RoofStyle, Exterior1st, Exterior2nd,
MasVnrType, MasVnrArea, ExterQual, ExterCond, Foundation, BsmtQual, BsmtCond, BsmtExposure, BsmtFinType1, BsmtFinSF1,
BsmtFinType2, BsmtFinSF2, BsmtUnfSF, TotalBsmtSF, HeatingQC, CentralAir, Electrical, '1stFlrSF', '2ndFlrSF', LowQualFinSF,
GrLivArea, BsmtFullBath, BsmtHalfBath, FullBath, HalfBath, Bedroom, KitchenQual, TotRmsAbvGrd, Functional, Fireplaces,
FireplaceQu, GarageType, GarageYrBlt, GarageFinish, GarageCars, GarageArea, GarageQual, GarageCond, PavedDrive, WoodDeckSF,
OpenPorchSF, EnclosedPorch, '3SsnPorch', ScreenPorch, PoolArea, MoSold, YrSold, data = train)
# Rename columns that start with numbers
names(train)[names(train) == "1stFlrSF"] <- "X1stFlrSF"
names(train)[names(train) == "2ndFlrSF"] <- "X2ndFlrSF"
names(train)[names(train) == "3SsnPorch"] <- "X3SsnPorch"
names(test)[names(test) == "1stFlrSF"] <- "X1stFlrSF"
names(test)[names(test) == "2ndFlrSF"] <- "X2ndFlrSF"
names(test)[names(test) == "3SsnPorch"] <- "X3SsnPorch"
options(scipen=999)
library(readxl)
setwd("/Users/danielkwong/Documents/GSE519")
#Import data
train <- read.csv("train.csv")
test <- read.csv("test.csv")
# Rename columns that start with numbers
names(train)[names(train) == "1stFlrSF"] <- "X1stFlrSF"
names(train)[names(train) == "2ndFlrSF"] <- "X2ndFlrSF"
names(train)[names(train) == "3SsnPorch"] <- "X3SsnPorch"
names(test)[names(test) == "1stFlrSF"] <- "X1stFlrSF"
names(test)[names(test) == "2ndFlrSF"] <- "X2ndFlrSF"
names(test)[names(test) == "3SsnPorch"] <- "X3SsnPorch"
library(fastDummies)
#Convert categorical variables into dummy variables
install.packages("fastDummies")
library(fastDummies)
cat_vars <- c("MSZoning", "LotShape", "LandContour", "LotConfig", "LandSlope", "Neighborhood",
"Condition1", "BldgType", "HouseStyle", "RoofStyle", "Exterior1st", "Exterior2nd",
"MasVnrType", "ExterQual", "ExterCond", "Foundation", "BsmtQual", "BsmtCond",
"BsmtExposure", "BsmtFinType1", "BsmtFinType2", "HeatingQC", "CentralAir",
"Electrical", "KitchenQual", "Functional", "FireplaceQu", "GarageType",
"GarageFinish", "GarageQual", "GarageCond", "PavedDrive")
train[cat_vars] <- lapply(train[cat_vars], as.factor)
test[cat_vars]  <- lapply(test[cat_vars],  as.factor)
train_dummies <- dummy_cols(train, select_columns = cat_vars, remove_selected_columns = TRUE)
test_dummies  <- dummy_cols(test,  select_columns = cat_vars, remove_selected_columns = TRUE)
cat_vars <- c("MSZoning", "LotShape", "LandContour", "LotConfig", "LandSlope", "Neighborhood",
"Condition1", "BldgType", "HouseStyle", "RoofStyle", "Exterior1st", "Exterior2nd",
"MasVnrType", "ExterQual", "ExterCond", "Foundation", "BsmtQual", "BsmtCond",
"BsmtExposure", "BsmtFinType1", "BsmtFinType2", "HeatingQC", "CentralAir",
"Electrical", "KitchenQual", "Functional", "FireplaceQu", "GarageType",
"GarageFinish", "GarageQual", "GarageCond", "PavedDrive")
train[cat_vars] <- lapply(train[cat_vars], as.factor)
test[cat_vars]  <- lapply(test[cat_vars],  as.factor)
train_with_dummies <- dummy_cols(train, select_columns = cat_vars, remove_selected_columns = TRUE)
test_with_dummies  <- dummy_cols(test,  select_columns = cat_vars, remove_selected_columns = TRUE)
options(scipen=999)
library(readxl)
setwd("/Users/danielkwong/Documents/GSE519")
#Import data
train <- read.csv("train.csv")
test <- read.csv("test.csv")
# Rename columns that start with numbers
names(train)[names(train) == "1stFlrSF"] <- "X1stFlrSF"
names(train)[names(train) == "2ndFlrSF"] <- "X2ndFlrSF"
names(train)[names(train) == "3SsnPorch"] <- "X3SsnPorch"
names(test)[names(test) == "1stFlrSF"] <- "X1stFlrSF"
names(test)[names(test) == "2ndFlrSF"] <- "X2ndFlrSF"
names(test)[names(test) == "3SsnPorch"] <- "X3SsnPorch"
#Convert categorical variables into dummy variables
install.packages("fastDummies")
install.packages("fastDummies")
names(train)[names(train) == "1stFlrSF"] <- "X1stFlrSF"
names(train)[names(train) == "2ndFlrSF"] <- "X2ndFlrSF"
names(train)[names(train) == "3SsnPorch"] <- "X3SsnPorch"
names(test)[names(test) == "1stFlrSF"] <- "X1stFlrSF"
names(test)[names(test) == "2ndFlrSF"] <- "X2ndFlrSF"
names(test)[names(test) == "3SsnPorch"] <- "X3SsnPorch"
library(fastDummies)
cat_vars <- c("MSZoning", "LotShape", "LandContour", "LotConfig", "LandSlope", "Neighborhood",
"Condition1", "BldgType", "HouseStyle", "RoofStyle", "Exterior1st", "Exterior2nd",
"MasVnrType", "ExterQual", "ExterCond", "Foundation", "BsmtQual", "BsmtCond",
"BsmtExposure", "BsmtFinType1", "BsmtFinType2", "HeatingQC", "CentralAir",
"Electrical", "KitchenQual", "Functional", "FireplaceQu", "GarageType",
"GarageFinish", "GarageQual", "GarageCond", "PavedDrive")
train[cat_vars] <- lapply(train[cat_vars], as.factor)
test[cat_vars]  <- lapply(test[cat_vars],  as.factor)
train_with_dummies <- dummy_cols(train, select_columns = cat_vars, remove_selected_columns = TRUE)
test_with_dummies  <- dummy_cols(test,  select_columns = cat_vars, remove_selected_columns = TRUE)
options(scipen=999)
library(readxl)
setwd("/Users/danielkwong/Documents/GitHub/GSE519Project")
#Import data
myData <- read.csv("train.csv")
options(scipen=999)
library(readxl)
setwd("/Users/danielkwong/Documents/GitHub/GSE519Project")
#Import data
myData <- read.csv("train.csv")
names(train)[names(train) == "1stFlrSF"] <- "X1stFlrSF"
names(myData)[names(myData) == "1stFlrSF"] <- "X1stFlrSF"
names(myData)[names(myData) == "2ndFlrSF"] <- "X2ndFlrSF"
names(myData)[names(myData) == "3SsnPorch"] <- "X3SsnPorch"
#Convert categorical variables into dummy variables
install.packages("fastDummies")
install.packages("fastDummies")
library(fastDummies)
cat_vars <- c("MSZoning", "LotShape", "LandContour", "LotConfig", "LandSlope", "Neighborhood",
"Condition1", "BldgType", "HouseStyle", "RoofStyle", "Exterior1st", "Exterior2nd",
"MasVnrType", "ExterQual", "ExterCond", "Foundation", "BsmtQual", "BsmtCond",
"BsmtExposure", "BsmtFinType1", "BsmtFinType2", "HeatingQC", "CentralAir",
"Electrical", "KitchenQual", "Functional", "FireplaceQu", "GarageType",
"GarageFinish", "GarageQual", "GarageCond", "PavedDrive")
myData[cat_vars] <- lapply(myData[cat_vars], as.factor)
myData_with_dummies <- dummy_cols(train, select_columns = cat_vars, remove_selected_columns = TRUE)
myData[cat_vars] <- lapply(myData[cat_vars], as.factor)
myData_with_dummies <- dummy_cols(myData, select_columns = cat_vars, remove_selected_columns = TRUE)
